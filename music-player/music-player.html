<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        /*//清楚样式*/
        *{
            margin:0;
            padding:0;
        }
        ul{
            list-style:none;
        }
        ul li{
            margin:20px 20px;
            padding:10px 5px;
            border-radius: 3px;
        }
        ul li.activeClass{
            background-color:#D2E2F3;
        }
    </style>
</head>
<body>
    <div id = 'app'>
        <audio v-bind:src="musicData[currentIndex].songSrc" controls autoplay @ended="handleEnded"></audio>
       <ul>
<!--            <li v-bind:class="{activeClass:ActivateProperty===currentIndex}"  v-for="(curr,index)  in musicData":key="index" @click="HandlesClick(index)">-->
            <li v-bind:class="{activeClass:index===currentIndex}"  v-for="(curr,index)  in musicData":key="index" @click="HandlesClick(index)">
                <h2>{{curr.id}}-歌名：{{curr.name}}</h2>
                <p>{{curr.author}}</p>
             </li>
       </ul>
            <button @click="NextOne">下一首</button>
            <button @click="PreOne" >上一首</button>
    </div>
<script src = '../Vue基础/vue.js'></script>
<script>
    const musicData = [
        {
            id:1,
            name:'于荣光 - 少林英雄',
            author:'于荣光',
            songSrc:'./static/于荣光 - 少林英雄.mp3',
        },
        {
            id: 2,
            name: 'Joel Adams - Please Dont Go',
            author: 'Joel Adams',
            songSrc: './static/Joel Adams - Please Dont Go.mp3'
        },
        {
            id: 3,
            name: 'MKJ - Time',
            author: 'MKJ',
            songSrc: './static/MKJ - Time.mp3'
        },
        {
            id: 4,
            name: 'Russ - Psycho (Pt. 2)',
            author: 'Russ',
            songSrc: './static/Russ - Psycho (Pt. 2).mp3'
        }
    ]
    var app = new Vue({
        el:'#app',
        data:{
            musicData:musicData,
            currentIndex:0,
        },
        methods:{
            HandlesClick:function(index){
                this.currentIndex =index;
            },
            handleEnded:function(){
                this.NextOne();
            },
            NextOne:function(){
                console.log(this.currentIndex);
                if (this.currentIndex === this.musicData.length - 1) {
                    this.currentIndex = 0;
                }
                else {
                    this.currentIndex += 1;
                }
            },
            PreOne: function(){
                console.log(this.currentIndex);
                if (this.currentIndex === 0) {
                    this.currentIndex = this.musicData.length - 1
                }
                else {
                    this.currentIndex -= 1;
                }
        },

    }
    })
</script>
</body>
</html>